# 主动降噪技术
当你每天乘坐交通工具的时候，是否注意到了周围环境的噪声污染？  
面对耳朵里跑进来恼人的噪音，除了堵住耳朵这种被动的方法，我们现在还可以主动出击，用声音将噪声消灭掉。   
用一句话来概括主动降噪的原理：通过发出与噪声相位相反，频率、振幅相同的声波与噪声干涉实现相位抵消。  
![主动降噪1.jpg](https://github.com/ShellAlbert/NR4ARM/blob/master/WorkLog/主动降噪1.jpg)  
想要理解这句话，首先要明白声音是什么？相位和振幅是什么？干涉又是如何发生的。  
我们平时听到的声音，实质上是空气被挤压并不断传递的现象。  
空气受到挤压，自然就会有压缩部分和稀疏部分。这两个部分彼此交错出现，交替一次视作一个周期，而一秒钟内变化多少个周期就叫做频率。  
我们听到的声音往往由许多具有不同频率的声音组合而成，他们不光是频率不同，被压缩/拉伸的程度也不同，也就是振幅不一样，听起来声音的大小也就不一样。  
![主动降噪2.jpg](https://github.com/ShellAlbert/NR4ARM/blob/master/WorkLog/主动降噪2.jpg)   
相位的意思也很简单，某一个时刻声波处于一个周期内的位置就是相位。如果我们规定空气被压缩的最厉害的地方是相位的零点，那么半个周期之后，空气变得最为稀疏的地方，相位就变成180°。等到空气再次被压缩得最密集时，就经过了一整个周期，相位变化了360°又重新变为0°。  
如果我们有两个频率接近或者一样的声音叠加在一起合成一个声音，他们的振幅会变大或者变小又或者不变，这个现象就叫做干涉。如果这两个声音相位一致：你振幅最大时我也最大，你最小时我也最小，那么合成出来的声音振幅就变大，听起来也就变更响了。如果两个声音频率是一样的，振幅也是一样的，但是相位偏偏相反：两个声波处处相反，彼此抵消，声音就被消除了。  

现在主动降噪耳机卖得很好，具体是怎么实现这个抵消噪声的过程的呢？
想要产生用于抵消噪声的声波，首先要得到噪声的信息才可以。主动降噪耳机设有反馈麦克风用于采集环境中的噪声信号。这里有一个先后顺序的问题：先采集噪声，但是要与噪声同时产生抵消音才能够降噪。所以处理器会根据噪声进行预测，预测出下一时刻噪声的情况，并产生相应抵消声波。
为了保证降噪质量，还需要一个反馈麦克风用来检测所合成后的噪声是否真的变小了。这时处理器会根据这个反馈麦克风测量到的结果，对处理过程进行调整从而进一步降低合成后的噪声音量，这叫做自适应过程。好比处理器变聪明了，能够根据消噪的效果不断调整自己，以达到最佳降噪效果。